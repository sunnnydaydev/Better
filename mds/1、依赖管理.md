# 依赖统一管理

为了方便，把所有模块需要的依赖放入buildScr中，这样做的好处是buildScr会被gradle自动管理，每个模块都可使用这里的数据。

这样相对创建一个gradle文件然后每个模块apply的方式省事了很多。

在此我们需做如下几点,然后同步下工程即可，这样这个buildSrc就被本地自动管理了

(1) 在root工程下创建buildSrc目录

(2) buildSrc下创建[build.gradle.kts](../buildSrc/build.gradle.kts) 文件以及简单的配置

(3) buildSrc下创建src/main/java

其实这是gradle插件创建方式之一所需要的步骤，这里我们并不需要创建plugin因此做到这里就能满足我们的需求了。

好了做完上面三步然后同步下工程后buildSrc这个文件就变色了，除此之外main java目录也会变色。这里就可以创建文件来抽取依赖了：

```kotlin
/**
 * 项目中要使用的依赖
 * */
object Dependency {
    const val coreKtx = "androidx.core:core-ktx:1.9.0"
    const val appcompat = "androidx.appcompat:appcompat:1.6.1"
    const val material = "com.google.android.material:material:1.8.0"
    const val constraintlayout = "androidx.constraintlayout:constraintlayout:2.1.4"
}

object Test {
    const val junit = "junit:junit:4.13.2"
    const val ext = "androidx.test.ext:junit:1.1.5"
    const val espressoCore = "androidx.test.espresso:espresso-core:3.5.1"
}
```

然后app/build.gradle.kts 就可以这样引入了：

```kotlin
dependencies {
    implementation (Dependency.coreKtx)
    implementation (Dependency.appcompat)
    implementation (Dependency.material)
    implementation (Dependency.constraintlayout)
    testImplementation (Test.junit)
    androidTestImplementation (Test.ext)
    androidTestImplementation (Test.espressoCore)
}
```

其实app/build.gradle.kts 内的dependencies{} 这块还可以继续抽取，把这块单独放入一个gradle文件中然后通过apply from引入即可。